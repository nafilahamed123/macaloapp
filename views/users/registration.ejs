<%- include('../layouts/header.ejs') %>

<section class="vh-100" style="background-color: #ac3535;">
  <div class="container  h-100">
    
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-lg-12 col-xl-11">
        <div class="card  text-black" style="border-radius: 25px; ">
          
          <div class="card-body  p-md-5">
            <div class="row justify-content-center">
             
              <div class="col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1">
                 
                <!-- <p class="text-center font-italic h3 fw-bold mb-5 mx-1 mx-md-4 mt-4">Welcome to MACALO</p> -->
                <p class="mt-5">Join MACALO and unlock a world of men's fashion in just
             
                  a few clicks.</p>
                <form  class="mx-1 mx-md-4" action="/register" method="post"   id="registrationForm" onsubmit="return validateForm(event)">
                  <div class="d-flex flex-row align-items-center mb-4">
                   
                    <div class="form-outline flex-fill mb-0">
                      <input type="text" name="name" id="name" class="form-control" />
                      <label class="form-label" for="email">Your Name</label>
                    </div>
                  </div>

                  <div class="d-flex flex-row align-items-center mb-4">
                  
                    <div class="form-outline flex-fill mb-0">
                      <input type="email" name="email" id="email" class="form-control" />
                      <label class="form-label" for="email">Your Email</label>
                    </div>
                  </div>

                  <div class="d-flex flex-row align-items-center mb-4">
                   
                    <div class="form-outline flex-fill mb-0">
                      <input type="number" name="mobile" id="mobile" class="form-control" />
                      <label class="form-label" for="mobile">Mobile</label>
                    </div>
                  </div>

                  <div class="d-flex flex-row align-items-center mb-4">
                    <!-- <svg class="me-3 " xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M144 144v48H304V144c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192V144C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H80z"/></svg> -->
                    <div class="form-outline flex-fill mb-0">
                      <input type="password" name="password" id="password" class="form-control" />
                      <label class="form-label" for="password">Password</label>
                    </div>
                  </div>

                 

                  <div class="d-flex flex-row align-items-center mb-4">
                    
                    <div class="form-outline flex-fill mb-0">
                      <input type="password" name="confirmPassword" id="confirmPassword" class="form-control" />
                      <label class="form-label" for="confirmPassword">Repeat your password</label>
                    </div>
                  </div>

                  <div class="form-check d-flex justify-content-center mb-5">
                    <input class="form-check-input me-2" type="checkbox" value="" id="agreeTerms" />
                    <label class="form-check-label" for="form2Example3">
                      I agree all statements in <a href="#!">Terms of service</a>
                    </label>
                  </div>

                  <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
                    <button type="submit" class="btn btn-primary btn-lg">Register</button>
                  </div>

                </form>
              
              </div>
             
              <div class="col-md-10 col-lg-6 col-xl-7 d-flex align-items-center order-1 order-lg-2">
              
                   <img src="https://images.pexels.com/photos/3317123/pexels-photo-3317123.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load"
                   class="img-fluid" alt="Sample image" style="height: 100vh;">

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<%
if (typeof message !== 'undefined') {
%>
    <p style="color: green;"><script>alert("<%= message %>")</script></p>
<%
}
%>
<script>
  
    function validateForm(event) {
   
      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const mobile = document.getElementById('mobile').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      const agreeTerms = document.getElementById('agreeTerms').checked;
      
  
      // Perform validation checks
      if (name.trim() === '') {
        alert('Please enter your name');
        return false; // Return false to prevent form submission
      }

      if(!isValidName(name)){
        alert("please enter valid name");
        return false
      }
  
      if (email.trim() === '') {
        alert('Please enter your email');
        return false; // Return false to prevent form submission
      }

      if (!isValidEmail(email)) {
        alert('Please enter a valid email address');
        return false; // Return false to prevent form submission
      }

      if (mobile.trim() === ''){
        alert("please enter mobile number");
        return false;
      }

       if (!isValidMobile(mobile)) {
       alert("Enter a valid 10-digit number");
      return false;
      }
  
      if (password.trim() === '') {
        alert('Please enter a password');
        return false; // Return false to prevent form submission
      }

      const passwordValue = password.value;

      if (!validatePassword(password)) {
          alert('enter minimum 8 characters');
         return false;
      }
  
      if (password !== confirmPassword) {
        alert('Passwords do not match');
        return false; // Return false to prevent form submission
      }

      if (!agreeTerms) {
        alert('Please agree to the terms of service');
        return false; // Return false to prevent form submission
      }  

    }

    function validatePassword(password) {;
    if (password.length < 8) {
        alert("Password must be at least 8 characters long");
        return false;
    }
    return true; // Password is valid
}

  
    function isValidEmail(email) {
      // Simple email validation regex (you can use a more comprehensive regex)
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    }

    function isValidName(name){
      const nameValid = /^[A-Za-z\s]{4,}\s*$/;
      return nameValid.test(name);
    }

    function isValidMobile(mobile) {
    const mobileValid = /^[0-9]{10}$/;
    return mobileValid.test(mobile);
}
    
  </script>




  

<%- include('../layouts/footer.ejs') %>